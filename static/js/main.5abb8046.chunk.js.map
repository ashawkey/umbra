{"version":3,"sources":["SearchBar.js","Flow.js","SearchResults.js","App.js","index.js"],"names":["SearchBar","history","useHistory","useState","keyword","setKeyword","onSubmit","event","preventDefault","push","type","value","placeholder","onChange","target","FlowItem","props","className","href","Flow","meta","map","index","key","SearchResults","useParams","page","results","setResults","loading","setLoading","render_current_page","x","parseInt","style","color","useEffect","fetch","API_ROOT","then","res","json","onClick","ipage","toString","NoMatch","App","path","showUnder","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5abb8046.chunk.js","sourcesContent":["import React, {useState} from 'react';\r\nimport {useHistory} from \"react-router-dom\";\r\nimport './SearchBar.css';\r\n\r\n\r\nfunction SearchBar() {\r\n  // history must be inside router. This component has to be extracted out to work!\r\n  const history = useHistory();\r\n  const [keyword, setKeyword] = useState('');\r\n\r\n  function handleChange(event) {\r\n    setKeyword(event.target.value); // here event.target is <input>\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    if (keyword !== '') {\r\n      history.push(\"/search/\"+keyword+\"/1\");\r\n    }\r\n    else {\r\n      history.push(\"/\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <input type=\"text\" value={keyword} placeholder=\"umbra.\" onChange={handleChange}/>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default SearchBar;\r\n","import React from 'react';\r\nimport './Flow.css';\r\n\r\n\r\nfunction Flow(props) {\r\n  return (\r\n    <div className=\"flow\">\r\n      {props.meta.map((value, index) => (\r\n        <FlowItem value={value} key={index} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n  \r\nfunction FlowItem(props) {\r\n  // props.value = {title:~, snippet:~, formattedUrl:~, ...}\r\n  return (\r\n    <div className=\"flow-item\">\r\n      <div className=\"url\"> {props.value['formattedUrl']} </div>\r\n      <a className=\"title\" href={props.value['formattedUrl']}> {props.value['title']} </a>\r\n      <div className=\"snippet\"> {props.value['snippet']} </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default Flow;","import React, {useState, useEffect} from 'react';\r\nimport {useParams} from \"react-router-dom\";\r\n\r\nimport {API_ROOT} from \"./const\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport Flow from \"./Flow\"\r\n\r\nimport \"./SearchResults.css\";\r\n\r\nfunction SearchResults(){\r\n  let {keyword} = useParams();\r\n  let {page} = useParams();\r\n  const history = useHistory();\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(()=>{\r\n    \r\n    setLoading(true);\r\n    fetch(API_ROOT+\"/search?keyword=\"+keyword+\"&page=\"+page).then(\r\n        res => res.json()\r\n      ).then(\r\n        res => {\r\n          //console.log(res);\r\n          setResults(res);\r\n          setLoading(false);\r\n        }\r\n      )\r\n  }, [keyword, page]);\r\n\r\n  function handleLeftpage() {\r\n    var ipage = parseInt(page);\r\n    if (ipage > 1) {\r\n      history.push(\"/search/\"+keyword+\"/\"+(ipage - 1).toString());\r\n    }\r\n  }\r\n\r\n  function handleRightpage() {\r\n    var ipage = parseInt(page);\r\n    if (ipage < 10) {\r\n      history.push(\"/search/\"+keyword+\"/\"+(ipage + 1).toString());\r\n    }\r\n  }\r\n\r\n  function render_current_page(x) {\r\n    if (x === parseInt(page)) return (<span style={{color: 'black'}}> {x} </span>);\r\n    else return (<span style={{color: 'blue'}}> {x} </span>);\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading\"> ☪ </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n      <div className=\"search-results\">\r\n        <Flow meta={results} />\r\n\r\n        <div className='page-manager'>\r\n          <span className='left-button' onClick={handleLeftpage}> ᐊ </span>\r\n          <span className='jump' onClick={()=>{history.push(\"/search/\"+keyword+\"/1\")}}> {render_current_page(1)} </span>\r\n          <span className='jump' onClick={()=>{history.push(\"/search/\"+keyword+\"/2\")}}> {render_current_page(2)} </span>\r\n          <span className='jump' onClick={()=>{history.push(\"/search/\"+keyword+\"/3\")}}> {render_current_page(3)} </span>\r\n          <span className='jump' onClick={()=>{history.push(\"/search/\"+keyword+\"/4\")}}> {render_current_page(4)} </span>\r\n          <span className='jump' onClick={()=>{history.push(\"/search/\"+keyword+\"/5\")}}> {render_current_page(5)} </span>\r\n          <span className='jump' onClick={()=>{history.push(\"/search/\"+keyword+\"/6\")}}> {render_current_page(6)} </span>\r\n          <span className='jump' onClick={()=>{history.push(\"/search/\"+keyword+\"/7\")}}> {render_current_page(7)} </span>\r\n          <span className='jump' onClick={()=>{history.push(\"/search/\"+keyword+\"/8\")}}> {render_current_page(8)} </span>\r\n          <span className='jump' onClick={()=>{history.push(\"/search/\"+keyword+\"/9\")}}> {render_current_page(9)} </span>\r\n          <span className='jump' onClick={()=>{history.push(\"/search/\"+keyword+\"/10\")}}> {render_current_page(10)} </span>\r\n          <span className='right-button' onClick={handleRightpage}> ᐅ </span>\r\n        </div>\r\n\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default SearchResults;","import React from 'react';\nimport {Switch, Route, HashRouter} from \"react-router-dom\";\nimport ScrollToTop from 'react-scroll-up';\nimport './App.css';\n\nimport SearchBar from \"./SearchBar\";\nimport SearchResults from \"./SearchResults\"\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <HashRouter>\n        <div className=\"header\"> \n          <SearchBar/> \n        </div>\n        <div className=\"content\">\n          <Switch>\n            {/* Search page */}\n            <Route path=\"/search/:keyword/:page\">\n              <SearchResults />\n            </Route>\n            {/* fallback */}\n            <Route path=\"*\">\n              <NoMatch />\n            </Route>\n          </Switch>\n          \n        </div>\n        <ScrollToTop showUnder={160}>\n          <span className='up-arrow'> ↑ </span>\n        </ScrollToTop>\n        <div className=\"footer\"> \n          @ <a href='https://github.com/ashawkey'> hawkey </a>\n        </div>\n      </HashRouter>\n    </div>\n  );\n}\n\nfunction NoMatch() {\n  return (\n    <div className=\"no-match\">  </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}